<!-- ✅ 桌機專用搜尋欄（只在 md 以上顯示） -->
<div class="mobile-hide-on-mock">
  <form method="get" action="{% url 'mock_exam' %}" class="row g-2 d-none d-md-flex">
    <!-- ✅ 類別 -->
    <div class="col-4">
      <select name="category" id="mock_category" class="form-select" onchange="handleCategoryChange()">
        <option value="">請選擇科目</option>
        {% for cat in categories %}
          <option value="{{ cat }}" {% if category == cat %}selected{% endif %}>{{ cat }}</option>
        {% endfor %}
      </select>
    </div>

    <!-- ✅ 章節 -->
    <div class="col-4">
      <select name="chapter" id="mock_chapter" class="form-select" onchange="handleChapterChange()">
        <option value="">章節</option>
      </select>
    </div>

    <!-- ✅ 題號 -->
    <div class="col-4">
      <select name="number" id="mock_number" class="form-select">
        <option value="">題號</option>
      </select>
    </div>

    <div class="col-12 mt-2">
      <button type="submit" class="btn btn-secondary w-100">搜尋</button>
    </div>
  </form>
</div>


<!-- 📱 手機版搜尋區塊（含浮動按鈕與搜尋表單） -->
<div class="d-md-none position-relative">
  <!-- 🔍 浮動按鈕 -->
  <div class="search-fab">🔍</div>

  <!-- 🔽 手機搜尋欄 -->
  <div id="mobileSearchBar" class="mobile-search mt-2">
    <form method="get" action="{% url 'mock_exam' %}" class="row g-2 px-2">
      <!-- 類別 -->
      <div class="col-12">
        <select id="category_select" name="category" class="form-select form-select-sm">
          <option value="">請選擇科目</option>
          {% for cat in categories %}
            <option value="{{ cat }}" {% if category == cat %}selected{% endif %}>{{ cat }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- 章節 -->
      <div class="col-6">
        <select id="chapter_select" name="chapter" class="form-select form-select-sm">
          <option value="">章節</option>
        </select>
      </div>

      <!-- 題號 -->
      <div class="col-6">
        <select id="number_select" name="number" class="form-select form-select-sm">
          <option value="">題號</option>
        </select>
      </div>

      <div class="col-12">
        <button type="submit" class="btn btn-secondary btn-sm w-100">搜尋</button>
      </div>
    </form>
  </div>
</div>
