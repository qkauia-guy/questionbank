{% extends "base.html" %}
{% block content %}

<div class="container mt-4">
  <h3>ğŸ‰ æ¨¡æ“¬è€ƒçµæœ</h3>

  <div class="alert alert-success mt-3">
    ğŸ‘¤ ä½¿ç”¨è€…ï¼š{{ request.user.username }}<br>
    ğŸ—‚ é¡åˆ¥ï¼š{{ session.category }}<br>
    âœ… æ­£ç¢ºï¼š{{ correct_count }} / {{ total }} é¡Œ<br>
    ğŸ“ˆ æ­£ç¢ºç‡ï¼š<strong>{{ percentage }}%</strong>
  </div>

  <h5 class="mt-5">ğŸ“š æ­·å²æ¨¡æ“¬è€ƒç´€éŒ„</h5>
  <table class="table table-bordered align-middle text-center">
    <thead class="table-light">
      <tr>
        <th>ğŸ—‚ é¡åˆ¥</th>
        <th>ğŸ“… æ—¥æœŸ</th>
        <th>âœ… åˆ†æ•¸</th>
        <th>ğŸ“‹ é¡Œæ•¸</th>
        <th>â± å®Œæˆæ™‚é–“</th>
      </tr>
    </thead>
    <tbody>
      {% for s in past_sessions %}
      <tr>
        <td>{{ s.category }}</td>
        <td>{{ s.created_at|date:"Y-m-d H:i" }}</td>
        <td>{{ s.score|floatformat:1 }}%</td>
        <td>{{ s.total_questions }}</td>
        <td>
          {% if s.finished_at %}
            {{ s.finished_at_local|date:"Y/m/d H:i" }} å…§å®Œæˆ
          {% else %}
            -
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="mt-3">
    <a href="{% url 'exam_start' %}" class="btn btn-primary">ğŸ” é‡æ–°æ¨¡æ“¬è€ƒ</a>
  </div>
</div>

{% endblock %}
